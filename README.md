# Kash Back - Партнерские ссылки с ID пользователя

Плагин для WordPress/WooCommerce, который автоматически добавляет ID текущего пользователя к внешним партнерским ссылкам.

## Описание

Плагин Kash Back автоматически добавляет ID текущего пользователя к внешним партнерским ссылкам WooCommerce. Это позволяет отслеживать, какие пользователи переходят по партнерским ссылкам и совершают покупки.

## Функциональность

- Автоматическое добавление параметра user_id к внешним партнерским ссылкам
- Совместимость со стандартными функциями WooCommerce
- Поддержка локализации
- Безопасная обработка URL

## Установка

1. Скопируйте папку `kash-back` в директорию `/wp-content/plugins/`
2. Активируйте плагин через меню "Плагины" в WordPress
3. Плагин начнет работу автоматически

## Как это работает

При клике на внешний партнерский товар WooCommerce, плагин добавляет к URL следующие параметры:

- `user_id` - ID текущего пользователя
- `ref` - реферальный параметр в формате `kash_back_{user_id}`

## Безопасность

Плагин использует следующие меры безопасности:

- Проверка валидности URL с помощью `filter_var()`
- Санитизация параметров с помощью `sanitize_key()` и `sanitize_text_field()`
- Экранирование URL с помощью `esc_url_raw()`
- Проверка типа продукта перед внесением изменений

## Требования

- WordPress 5.0 или выше
- WooCommerce 4.0 или выше
- PHP 7.4 или выше

## Автор

Kash Back

## Лицензия

GPLv2 или более поздняя версия
